extern crate core;

mod transaction;

use anyhow::{Error};
use serde::{Deserialize, Serialize};
use std::any::Any;
use std::ffi::{CStr, CString};
use std::os::raw::c_char;
use std::{mem, panic};

#[no_mangle]
#[repr(C)]
#[allow(missing_copy_implementations)]
#[derive(Clone)]
pub struct SlotConfig {
    pub slot_length: u32,
    pub zero_slot: u64,
    pub zero_time: u64,
}

#[no_mangle]
#[repr(C)]
#[allow(missing_copy_implementations)]
#[derive(Clone)]
pub struct InitialBudget {
    pub mem: i64,
    pub cpu: i64,
}

#[derive(Serialize, Deserialize, Debug, PartialEq)]
pub enum Status {
    ERROR,
    SUCCESS,
}

#[derive(Serialize, Deserialize, Debug)]
pub struct ExUnitsEvaluationResponse {
    status: Status,
    error: Option<String>,
    redeemer_cbor: Option<String>,
}

#[no_mangle]
#[allow(non_snake_case)]
pub fn eval_phase_two(
    tx_hex: *const c_char,
    inputs: *const c_char,
    outputs: *const c_char,
    cost_mdls: *const c_char,
    initial_budget: InitialBudget,
    slot_config: SlotConfig,
) -> *const c_char {
    let result: Result<*const i8, Box<dyn Any + Send>> = panic::catch_unwind(|| {
        return eval_phase_two_inner(
            to_string(tx_hex),
            to_string(inputs),
            to_string(outputs),
            to_string(cost_mdls),
            initial_budget,
            slot_config,
        );
    })
    .map(|json| to_ptr(json));

    match result {
        Ok(c) => c,
        Err(_cause) => to_ptr(error_to_json(anyhow::anyhow!(
            "FATAL: fatal error while evaluating transaction cost!"
        ))),
    }
}

/// Invoke eval phase two function and return JSON string as a result
fn eval_phase_two_inner(
    tx_hex: String,
    inputs: String,
    outputs: String,
    cost_mdls: String,
    initial_budget: InitialBudget,
    slot_config: SlotConfig,
) -> String {
    let ak_ex_budget = uplc::machine::cost_model::ExBudget {
        mem: initial_budget.mem,
        cpu: initial_budget.cpu,
    };

    let ak_slot_config = uplc::tx::script_context::SlotConfig {
        zero_time: slot_config.zero_time,
        zero_slot: slot_config.zero_slot,
        slot_length: slot_config.slot_length,
    };

    let eval_phase_two_result = transaction::eval_phase_two(
        &tx_hex,
        &inputs,
        &outputs,
        &cost_mdls,
        ak_ex_budget,
        ak_slot_config,
    );

    match eval_phase_two_result {
        Ok(redeemer_cbor) => success_to_json(redeemer_cbor),
        Err(err) => error_to_json(err),
    }
}

/// Convert a native string to a Rust string
// TODO consider returning anyhow::Result<String>
fn to_string(pointer: *const c_char) -> String {
    let c_str: &CStr = unsafe { CStr::from_ptr(pointer) };
    c_str.to_str().unwrap().to_string()
}

/// Convert a Rust string to a native string
// TODO consider returning anyhow::Result<String>
fn to_ptr(string: String) -> *const c_char {
    let cs = CString::new(string.as_bytes()).unwrap();
    let ptr = cs.as_ptr();
    // Tell Rust not to clean up the string while we still have a pointer to it.
    // Otherwise, we'll get a segfault.
    mem::forget(cs);
    ptr
}

#[no_mangle]
#[allow(non_snake_case)]
fn dropCharPointer(pointer: *const c_char) {
    mem::drop(pointer);
}

fn json_fallback() -> String {
    return r#"
    {
        "status": "ERROR",
        "error": "JSON: ExUnitsEvaluationResponse serialisation error."
    }
     "#.to_string();
}

fn success_to_json(redeemer_cbor: String) -> String {
    let response = ExUnitsEvaluationResponse {
        status: Status::SUCCESS,
        error: None,
        redeemer_cbor: Some(redeemer_cbor),
    };

    return serde_json::to_string(&response)
        .map_err(|err| format!("JSON: {:?}", err))
        .unwrap_or(format!("{:?}", json_fallback()));
}

fn error_to_json(error: Error) -> String {
    let response = ExUnitsEvaluationResponse {
        status: Status::ERROR,
        error: Some(error.to_string()),
        redeemer_cbor: None,
    };

    return serde_json::to_string(&response)
        .map_err(|err| format!("JSON: {:?}", err))
        .unwrap();
}

#[cfg(test)]
mod lib {
    use crate::{
        eval_phase_two_inner, ExUnitsEvaluationResponse, InitialBudget, SlotConfig, Status,
    };

    #[test]
    pub fn eval_phase_test_success() {
        let tx_hex = "84a600818258202da783ed1161732f1f59319eca1f9da38afde36445ae065b2250a8e6e7362cfe000181825839000d30c6d716fd6c48ab546f0b66fd5faaa3a2f0ccecf0a72ea8c04a30a91cf775fb8e1fdfe882b26014f11d56bd47681270a55fd15e6d064c1a003d090002000d818258202da783ed1161732f1f59319eca1f9da38afde36445ae065b2250a8e6e7362cfe0110825839000d30c6d716fd6c48ab546f0b66fd5faaa3a2f0ccecf0a72ea8c04a30a91cf775fb8e1fdfe882b26014f11d56bd47681270a55fd15e6d064c821b00000002b64c0608a3581c4be3ff6f6ac1303b65adaa8c31b73395f488a6c3370b9694e6df21daa14d4275726e546f6b656e54657374185d581c689903d80b71e0570fea2fdaaa4bf80989785ed2a2cd57da0d9a7d0aa148746f6b656e5f3132197530581cc48f707fea6f08af67a8c06c9bea5b3ec847f5901dc08420cd7f8adea14a4f676d696f73546573741b0000001bf08eb000111a000f4240a20581840000182482000006815907a65907a3010000323322323232323232323232323232323322323232323222232325335323232333573466e1ccc07000d200000201e01d3333573466e1cd55cea80224000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008cd405c060d5d0a80619a80b80c1aba1500b33501701935742a014666aa036eb94068d5d0a804999aa80dbae501a35742a01066a02e0446ae85401cccd5406c08dd69aba150063232323333573466e1cd55cea801240004664424660020060046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40b5d69aba15002302e357426ae8940088c98c80c0cd5ce01881801709aab9e5001137540026ae854008c8c8c8cccd5cd19b8735573aa004900011991091980080180119a816bad35742a004605c6ae84d5d1280111931901819ab9c03103002e135573ca00226ea8004d5d09aba2500223263202c33573805a05805426aae7940044dd50009aba1500533501775c6ae854010ccd5406c07c8004d5d0a801999aa80dbae200135742a00460426ae84d5d1280111931901419ab9c029028026135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a00860226ae84d5d1280211931900d19ab9c01b01a018375a00a6eb4014405c4c98c805ccd5ce24810350543500017135573ca00226ea800448c88c008dd6000990009aa80b911999aab9f0012500a233500930043574200460066ae880080508c8c8cccd5cd19b8735573aa004900011991091980080180118061aba150023005357426ae8940088c98c8050cd5ce00a80a00909aab9e5001137540024646464646666ae68cdc39aab9d5004480008cccc888848cccc00401401000c008c8c8c8cccd5cd19b8735573aa0049000119910919800801801180a9aba1500233500f014357426ae8940088c98c8064cd5ce00d00c80b89aab9e5001137540026ae854010ccd54021d728039aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6403666ae7007006c06406005c4d55cea80089baa00135742a00466a016eb8d5d09aba2500223263201533573802c02a02626ae8940044d5d1280089aab9e500113754002266aa002eb9d6889119118011bab00132001355014223233335573e0044a010466a00e66442466002006004600c6aae754008c014d55cf280118021aba200301213574200222440042442446600200800624464646666ae68cdc3a800a40004642446004006600a6ae84d55cf280191999ab9a3370ea0049001109100091931900819ab9c01101000e00d135573aa00226ea80048c8c8cccd5cd19b875001480188c848888c010014c01cd5d09aab9e500323333573466e1d400920042321222230020053009357426aae7940108cccd5cd19b875003480088c848888c004014c01cd5d09aab9e500523333573466e1d40112000232122223003005375c6ae84d55cf280311931900819ab9c01101000e00d00c00b135573aa00226ea80048c8c8cccd5cd19b8735573aa004900011991091980080180118029aba15002375a6ae84d5d1280111931900619ab9c00d00c00a135573ca00226ea80048c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8028cd5ce00580500409baa001232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c030d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c034d5d09aab9e500b23333573466e1d401d2000232122222223005008300e357426aae7940308c98c804ccd5ce00a00980880800780700680600589aab9d5004135573ca00626aae7940084d55cf280089baa0012323232323333573466e1d400520022333222122333001005004003375a6ae854010dd69aba15003375a6ae84d5d1280191999ab9a3370ea0049000119091180100198041aba135573ca00c464c6401866ae700340300280244d55cea80189aba25001135573ca00226ea80048c8c8cccd5cd19b875001480088c8488c00400cdd71aba135573ca00646666ae68cdc3a8012400046424460040066eb8d5d09aab9e500423263200933573801401200e00c26aae7540044dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6401466ae7002c02802001c0184d55cea80089baa0012323333573466e1d40052002200923333573466e1d40092000200923263200633573800e00c00800626aae74dd5000a4c240029210350543100320013550032225335333573466e1c0092000005004100113300333702004900119b80002001122002122001112323001001223300330020020011f5f6";
        let inputs = "818258202da783ed1161732f1f59319eca1f9da38afde36445ae065b2250a8e6e7362cfe00";
        let outputs = "81a300581d70b010c0888e93aa488d941ba4839136fceb9b9a9ec310a573299286d7011a003d0900028201d8184108";
        let cost_mdls = "a10198af1a0003236119032c01011903e819023b00011903e8195e7104011903e818201a0001ca761928eb041959d818641959d818641959d818641959d818641959d818641959d81864186418641959d81864194c5118201a0002acfa182019b551041a000363151901ff00011a00015c3518201a000797751936f404021a0002ff941a0006ea7818dc0001011903e8196ff604021a0003bd081a00034ec5183e011a00102e0f19312a011a00032e801901a5011a0002da781903e819cf06011a00013a34182019a8f118201903e818201a00013aac0119e143041903e80a1a00030219189c011a00030219189c011a0003207c1901d9011a000330001901ff0119ccf3182019fd40182019ffd5182019581e18201940b318201a00012adf18201a0002ff941a0006ea7818dc0001011a00010f92192da7000119eabb18201a0002ff941a0006ea7818dc0001011a0002ff941a0006ea7818dc0001011a0011b22c1a0005fdde00021a000c504e197712041a001d6af61a0001425b041a00040c660004001a00014fab18201a0003236119032c010119a0de18201a00033d7618201979f41820197fb8182019a95d1820197df718201995aa18201b00000004a817c8001b00000004a817c8001a009063b91903fd0a1b00000004a817c800001b00000004a817c800";

        let slot_config = SlotConfig {
            zero_time: 1596059091000,
            zero_slot: 0,
            slot_length: 1000,
        };

        let initial_budget = InitialBudget {
            cpu: 10000000000,
            mem: 16000000,
        };

        let json = eval_phase_two_inner(
            tx_hex.to_string(),
            inputs.to_string(),
            outputs.to_string(),
            cost_mdls.to_string(),
            initial_budget,
            slot_config,
        );

        //println!("{:?}", json);

        let ex_units_response: ExUnitsEvaluationResponse = serde_json::from_str(&json).unwrap();
        assert_eq!(Status::SUCCESS, ex_units_response.status);
        assert_eq!(
            "818400001824821a00078d1a1a09552e8e",
            ex_units_response.redeemer_cbor.unwrap()
        );
        assert!(ex_units_response.error.is_none());
    }

    #[test]
    pub fn eval_phase_test_fail() {
        let tx_hex = "84a6008582582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250082582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250182582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250282582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250382582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f525040182a300581d7027bb75b503c762c185b829d924291b24168690e132ff952a1e5b40aa011a00117e5c028201d818583cd8799fa2d8799f1a0ddaf2d51a0011afdeffd8799f02001a006025c2ffd8799f1a0ddaf2d51a00158f74ffd8799f1a00486079001a006025c2ff00ff82583900bee45311d846fc0a8b6bc6c1d06cc212f577efa60086a9c26783c6eb1708ad5cfcd595d49f19695c86d335a339dc8d4130170e38a2cb0c961a004e861c02000d82825820214135a716a3ace3e2e913936af4acf35a78fb45134d2f3c58fcebbb3aab9384018258203974e34e3cde1dc35f06f7bd6c887c927af5277bc270c74fbab06410cf98cefd051082583900bee45311d846fc0a8b6bc6c1d06cc212f577efa60086a9c26783c6eb1708ad5cfcd595d49f19695c86d335a339dc8d4130170e38a2cb0c961b00000004a727c396111a000f4240a20585840000d8799f58383631616564373365663933336163626365303164663764633932633865333264616335663662363032616634616365363161303366613561ff820000840001d8799f58386136366464613232643465323236303737396362393131303330616365623037663938616237353533316330643634356162613361653265ff820000840002d8799f58383038313164323261323933663730653333313265316333623562306332333833383361373030313937363039313933393339396634363532ff820000840003d8799f58383837633732363365386335643562663236326635383736336136383932343433613136633466636232373430356466376330343139343066ff820000840004d8799f58383231343065663462623264643031303963306164616431613262343034386230336165616437636565643233646437313338396534336431ff8200000681590de0590ddd01000032323232323232323232322225333006323232323232323232323232323232323232323232533301b3370e0029000099191919192999810299981018068020998051bac33019301a33019301a01b48001200400114a0266600e02c02a02e2940cdd2a40006604a6e98004cc094dd42400097ae0323232323232323232330020014bd6f7b63000498008009112999816001080089919191919199980e199804004002003199991111999806802001801000a5eb7bdb180cdd2a4000660646ea0008cc0c8dd4000a5eb80cdd2a4000660646ea0dd6998129813001a4004660646ea0dd6998129813001a4008660646ea0dd6998129813001a400c97ae001a01b01a375a66048604a00890031bad33023302400348010c8c8c8c8c8cdd2a400066068008660686ea000ccc0d0dd40011981a1ba80014bd701919806800a40006601a00890001919806000a40006601800690011919805800a400066016004900219ba548000cc0c0dd41bad33023302400148010cc0c0dd41bad330233024001480192f5c00046060006605c004600200244444a66605800826605a66ec000c0092f5bded8c0264646464a66605666ebccc01401c004cdd2a400097ae01330313376000e00c0102a66605666ebc01c0044cc0c4cdd800380300189981899bb000100233333009009003007006005302d003302d0023030005302e004223253330243370e00290010801099190009bad302c001301e003302637540044464664464a66604c66e1c005200213374a900125eb804c8c8cdd2a40006605c6ea0c0100052f5c06eb4c0b8004c08000cc0a0dd500100091bad3301d301e00448008cc00d2f5c301000081010100810102001299981199b87375a66038603a0069004000899b8700200114a06002002444a66604c004266e9520024bd700991929998119801801099ba548000cc0a4dd400125eb804ccc01401400400cc0a800cdd6981400119191919801000919191981219299981219b87001480004c8c8c8c8c8c8c8c8c8c94ccc0ccc0d800852615330304901364c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2069742065787065637465640016375a606800260680046eb4c0c8004c0c8008dd6981800098180011bad302e001302e002375c6058002603c0042a6604c92012b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302637540020026052002603664a66604466e1d20043025375400220022a660489212a4173736572746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163301a301b3301a301b0014800920040153001001222533302500214bd7009919198141801801199802802800801981480198138011bae302300130150171533301b3370e002900109919191919191929998112999811180780309980600b8008a50133300901801701914a064646644646660080064466e9520003302e374c66660306eaccc084c08800920003756660426044002900000b80b198171ba80044bd7000099ba548000cc0acdd325eb7bdb180cc0acdd4000a5eb8000c010c00400488894ccc0a800c40044c8c8cccc018018004010cc01000800cc0b8010c0b000cc8c8cc88cc00c0088c8c8cc0a0c94ccc0a0cdc3800a4000264646464a666062606800426605a66054006464646606064a66606066e1c00520001323232325333039303c002149854cc0d9241364c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2069742065787065637465640016375a607400260740046eb4c0e0004c0a800c54cc0c92412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016303237540046606064a66606066e1c00520001323232323232533303b303e002149854cc0e1241364c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2069742065787065637465640016375a607800260780046eb4c0e8004c0e8008dd6981c00098150010a9981924812b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016303237540029318190011818000a4c2a6605c921364c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2069742065787065637465640016375a606400260640046eacc0c0004c08800854cc0a92412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302a3754002a66604e66e1cdd6998101810800a4004008266e9520003302d0014bd70099ba5480092f5c0605a002603e64a66604c66e1d20043029375400220022a6605092012a4173736572746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163301e301f3301e301f0014800920040180043001001222533302800214bd70099191919299981399b87001480084ccc01c01c00c0144c8c8cc0bc004ccc02402401401cc0bc004c084008c0a4dd500098018011816001981500119b8000148008dd6981280098128011bae3023001301501714a0603a6ea8058888c8cc02000c8c8c8cdc78008021bae3026001301832533301f3370e900118111baa0011001153302149012a4173736572746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e0016330173018330173018001480012000332232323232001375c6050002603464a66604266e1d20023024375400220022a6604692012a4173736572746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633019301a33019301a33019301a00148009200048000c098004c060c94ccc07ccdc3a400060446ea8004400454cc0852412a4173736572746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163300600223375e66030603200290000010018009800800911299980f801099ba5480092f5c026464a6660386006004266e952000330220024bd700999802802800801981180198108011119801801119191980e19299980e19b87001480004c8c8c8c94ccc094c0a00084cc084cc07800c8c8c8cc090c94ccc090cdc3800a4000264646464a66605a60600042930a998152481364c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2069742065787065637465640016375a605c002605c0046eb4c0b0004c07800c54cc0992412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302637540046604864a66604866e1c00520001323232323232533302f3032002149854cc0b1241364c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2069742065787065637465640016375a606000260600046eb4c0b8004c0b8008dd69816000980f0010a9981324812b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302637540029318130011812000a4c2a66044921364c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2069742065787065637465640016375a604c002604c0046eacc090004c05800854cc0792412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016301e375400266ebc010004c084004c04cc94ccc068cdc3a4008603a6ea8004400454cc0712412a4173736572746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633012301300148010c0040048894ccc07000852809919299980c98018010a5113330050050010033020003301e00224a2446644a66602c66e400080044cdd2a400097ae0153330163371e004002266e9520024bd70099ba5480112f5c06ecc008dd980091119ba548000cc068cdd2a4000660346ea0cdc01bad3300d300e00248000dd6998069807000a4000660346ea0cdc01bad3300d300e00248008dd6998069807000a4004660346ea0cdc01bad3300d300e00248010dd6998069807000a400897ae04bd7011111999802802001801000980080091111299980c00208018991919191999980480480199999805003800801003002803002980c801980c801180e002980d0021800800911111299980b80289980c19bb00040034bd6f7b630099191919299980b19baf330050080013374a900025eb804cc070cdd80040038048a99980b19baf0080011323253330183370e0029000099191981019bb000c001007302000130120021005301a375400266600c01000e00426603866ec0004008cccccc02802800c02001c018014c06000cc060008c06c018c064014dd61980218029980218028032400090021bac330033004330033004005480012000301000130023253330093370e900118061baa0011001153300b49012a4173736572746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163300130020034800888c8ccc0040052000003222333300c3370e008004026466600800866e0000d200230150010012300b37540022930b180080091129998048010a4c26600a600260160046660060066018004002ae695cdab9c5573aaae7955cfaba05742ae881f5f6";
        let inputs = "8582582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250082582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250182582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250282582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f5250382582068368129e5057b6a314da2216c95087699ef6551fc7d7dcb316277790085f52504";
        let outputs = "85a300581d7027bb75b503c762c185b829d924291b24168690e132ff952a1e5b40aa011a00133418028201d8185856d8799f5840633263363663326165613536343761653538306230663965636238333235343163326334633964376130653231633037633364616239373436356530383634331a0017c5491a0ddaf2d51a0011afde00ffa300581d7027bb75b503c762c185b829d924291b24168690e132ff952a1e5b40aa011a00133418028201d8185856d8799f5840613661353431653461373064323739373839646262633639316636653065353932383364626261303762373133393866373837366332353363656164346261361a004860791a0ddaf2d51a0011afde00ffa300581d7027bb75b503c762c185b829d924291b24168690e132ff952a1e5b40aa011a00133418028201d8185856d8799f5840613661353431653461373064323739373839646262633639316636653065353932383364626261303762373133393866373837366332353363656164346261361a004860791a0ddaf2d51a00158f7400ffa300581d7027bb75b503c762c185b829d924291b24168690e132ff952a1e5b40aa011a00133418028201d8185856d8799f5840633263363663326165613536343761653538306230663965636238333235343163326334633964376130653231633037633364616239373436356530383634331a0017c5491a0ddaf2d51a00158f7400ffa300581d7027bb75b503c762c185b829d924291b24168690e132ff952a1e5b40aa011a00133418028201d8185856d8799f5840613661353431653461373064323739373839646262633639316636653065353932383364626261303762373133393866373837366332353363656164346261361a004860791a0ddaf2d51a00158f7402ff";
        let cost_mdls = "a10198af1a0003236119032c01011903e819023b00011903e8195e7104011903e818201a0001ca761928eb041959d818641959d818641959d818641959d818641959d818641959d81864186418641959d81864194c5118201a0002acfa182019b551041a000363151901ff00011a00015c3518201a000797751936f404021a0002ff941a0006ea7818dc0001011903e8196ff604021a0003bd081a00034ec5183e011a00102e0f19312a011a00032e801901a5011a0002da781903e819cf06011a00013a34182019a8f118201903e818201a00013aac0119e143041903e80a1a00030219189c011a00030219189c011a0003207c1901d9011a000330001901ff0119ccf3182019fd40182019ffd5182019581e18201940b318201a00012adf18201a0002ff941a0006ea7818dc0001011a00010f92192da7000119eabb18201a0002ff941a0006ea7818dc0001011a0002ff941a0006ea7818dc0001011a0011b22c1a0005fdde00021a000c504e197712041a001d6af61a0001425b041a00040c660004001a00014fab18201a0003236119032c010119a0de18201a00033d7618201979f41820197fb8182019a95d1820197df718201995aa18201a0223accc0a1a0374f693194a1f0a1a02515e841980b30a";

        let slot_config = SlotConfig {
            zero_time: 1596059091000,
            zero_slot: 0,
            slot_length: 1000,
        };

        let initial_budget = InitialBudget {
            cpu: 10000000000,
            mem: 16000000,
        };

        let json = eval_phase_two_inner(
            tx_hex.to_string(),
            inputs.to_string(),
            outputs.to_string(),
            cost_mdls.to_string(),
            initial_budget,
            slot_config,
        );

        //println!("{:?}", json);

        let ex_units_response: ExUnitsEvaluationResponse = serde_json::from_str(&json).unwrap();
        assert_eq!(Status::ERROR, ex_units_response.status);

        let error_msg = ex_units_response.error.unwrap();

        assert!(error_msg.contains("RedeemerError"));
        assert!(error_msg.contains("Asserted on incorrect constructor variant."));

        assert!(ex_units_response.redeemer_cbor.is_none());
    }

    // TODO needs to be fixed in upstream PALLAS
    #[test]
    pub fn eval_phase_test_hydra_tx_fails_but_should_not() {
        let tx_hex = "84a600958258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c008258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c018258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c028258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c038258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c048258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c058258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c068258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c078258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c088258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c098258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0a8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0b8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0c8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0d8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0e8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0f8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c108258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c118258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c128258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c138258206df7b1c45dfe4ed78bc4406ea601329b5dd3d4d83deab80a957b2dd3d3a154f918640182a300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a000f4240028201d81859021bd8799fb4d8799f1a010ab5111a0002b852ffd8799f00001a0094b10cffd8799f1a010ab5111a0037af8dffd8799f1a002b6a890000ffd8799f1a01302e331a000923a3ffd8799f001a004747bd00ffd8799f1a01302e331a0018099bffd8799f1a009142ec0000ffd8799f1a01302e331a005abde1ffd8799f00001a0091ced6ffd8799f1a0389bb441a001c4899ffd8799f001a0054c42600ffd8799f1a0389bb441a00262140ffd8799f1a005bf2c20000ffd8799f1a03c174dd1a0013c2fcffd8799f1a004fea910000ffd8799f1a03c174dd1a0046fcb7ffd8799f1a0032e4410000ffd8799f1a04d578671a0018ba36ffd8799f001a00475f9100ffd8799f1a094fbd981a002e6bdeffd8799f00001a007ed75bffd8799f1a0eca615d1a000ed4e5ffd8799f00001a0086bcb1ffd8799f1a0eca615d1a00143c1bffd8799f1a0023c4e40000ffd8799f1a0eca615d1a002c7ac2ffd8799f001a008e9ffc00ffd8799f1a0eca615d1a0053eff0ffd8799f001a0054c42600ffd8799f1a1506cd001a00356482ffd8799f00001a007ed75bffd8799f1a1506cd001a004fa2d5ffd8799f1a007087740000ffd8799f1a1739aead1a00106979ffd8799f001a0058109200ffd8799f1a1739aead1a0028d2d5ffd8799f001a0010acee00ffd8799f1a1739aead1a003a697dffd8799f00001a0072f318ff5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff82581d60f8a68cd18e59a6ace848155a0e967af64f4d00cf8acee8adc95a6b0d1b0000001748662b0b02000d818258206df7b1c45dfe4ed78bc4406ea601329b5dd3d4d83deab80a957b2dd3d3a154f918641082581d60f8a68cd18e59a6ace848155a0e967af64f4d00cf8acee8adc95a6b0d1b0000001748756d4b111a000f4240a20594840000d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840001d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840002d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840003d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840004d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840005d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840006d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840007d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840008d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840009d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff82000084000ad8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff82000084000bd8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff82000084000cd8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff82000084000dd8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff82000084000ed8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff82000084000fd8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840010d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840011d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840012d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff820000840013d8799f5820848ff129735e09d87a76cb5a0b53a53f7294d5be92f16da39800a36fe3d0adceff8200000681590fae590fab010000323232323232323232323232323232222533300a3232323232323232323232323232323232323232323232323232323232323253330293370e900000d89919191919191918099981b199818000a60103d87a80004c0103d87980003303633303033300c0240230254c0103d87a80004c0103d87980003303633303033008375866058605c66058605c04e90002400800498103d87a80004c0103d87980004bd7019b8f0050023374a90001981a1ba600233034375200297ae032375c6605460580029001198090011180b1bb30013232323232323232330010094bd6f7b6301800800911299981d0010800899191919191999812999804004002003199911199980625eb7bdb18000c008004cdd2a4000660806ea0008cc100dd4000a5eb80cdd2a4000660806ea0dd69981b181c001a4004660806ea0dd69981b181c001a4008660806ea0dd69981b181c001a400c97ae002b02a02b375a6606a606e00890031bad33034303600348010c8c8c8c8cdd2a400066082008660826ea000ccc104dd4001198209ba80014bd701919806000a40006601800a90001919805800a40006601600890011919805000a400066014006900219ba548000cc0f4dd41bad33033303500248010cc0f4dd41bad330333035002480192f5c0607c0066078004600200244444a66607400826607666ec000c0092f5bded8c0264646464a66607266ebccc01401c004cdd2a400097ae013303f3376000e00c0102a66607266ebc01c0044cc0fccdd800380300189981f99bb000100233333009009003007006005303b003303b002303e005303c004223253330323370e90010008801099190009bad303a0013030003303000222323253330323370e9001000899ba5480092f5c02646466e9520003303a3750646eb4cc0c4c0cc01d20020014bd701bad303a00130300023030001330034bd708101000081010100810102001180a1981b99981899b87375a6605a605e0069004000a60103d87a80004c0103d8798000330373330313370e004002980103d87a80004c0103d87980004bd701800800911299981a001099ba5480092f5c026464a6660626006004266e95200033037375000497ae013330050050010033038003375a606c0046600803e4a666058600e6605060540029001099191981799299981799b87480000044c8c8c8c8c8c8c8c8c8c94ccc0f8c104008526153303b4901334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a607e002607e0046eb4c0f4004c0f4008dd6981d800981d8011bad30390013039002375c606e002605a0042a6606292012b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302d0013374a90001981a000a5eb80c0d0004c0a8c94ccc0b4cdc3a4008605800220022a6605e9212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633028302a33028302a00148009200413374a900125eb80dd7181880098138108a99981499b874800806c4c8c8c8c8c8c8c048cc0d4ccc0bcccc02c08c08809130103d87a80004c0103d87980003303533302f3371e00a004980103d87a80004c0103d87980003303533302f33007375866056605a66056605a04c90002400800298103d87a80004c0103d87980004bd7019ba548000cc0d0dd30011981a1ba90014bd70191bae3302a302c00148008cc0480088c058dd98009919191919199801000911991199981000100081281300080125eb7bdb180cc00c0148dd5998169817800a400060020024444a66606e006200226464666600c00c0020086600800400660760086eacc0e400cc0040048894ccc0d000852f5c0264646606e6e98c00c008ccc01401400400cc0e000cc0d8008cc01007c94ccc0b0c01ccc0a0c0a80052002132323302f32533302f3370e9000000899191919299981c181d80109981a19816801919191981b99299981b99b87480000044c8c8c8c94ccc100c10c008526153303d491334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608200260820046eb4c0fc004c0d400c54cc0e52412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163035002330373253330373370e90000008991919191919299982118228010a4c2a6607e921334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608600260860046eb4c104004c104008dd6981f800981a8010a9981ca4812b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163035001498c0e4008c0dc005261533035491334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375c607200260720046eacc0dc004c0b400854cc0c52412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302d0013374a90001981a000a5eb80c0d0004c0a8c94ccc0b4cdc3a4008605800220022a6605e9212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633028302a33028302a00148009200413374a900125eb80dd7181880098138108a5022323300800123375e002006660060044a666056600c002264646605c64a66605c66e1d20000011323232325333037303a0021330333302c00323232330363253330363370e9000000899191919299981f98210010a4c2a66078921334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608000260800046eb4c0f8004c0d000c54cc0e12412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163034002330363253330363370e90000008991919191919299982098220010a4c2a6607c921334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608400260840046eb4c100004c100008dd6981f000981a0010a9981c24812b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163034001498c0e0008c0d8005261533034491334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375c607000260700046eacc0d8004c0b000854cc0c12412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302c0013374a900019819800a5eb80c0cc004c0a4c94ccc0b0cdc3a4008605600220022a6605c9212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e0016330273029001480104cdd2a400497ae03001001222533302e00214bd70099191919299981699b87480080044ccc01c01c00c0144c8c8cc0d4004ccc02402401401cc0d4004c0ac008c0ac004c00c008c0c800cc0c00088c8c94ccc0a0cdc3a4008002264944c0980085281813000998111812000a400844464646600c0024646466e3c004014dd71819000981419299981599b8748008c0a8004400454cc0b52412a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163302630283302630280014800120003300700323232533302b3370e9001000899251302900214a060520026604a604e6604a604e002900024000646464640026eb8c0c4004c09cc94ccc0a8cdc3a4004605200220022a6605892012a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633025302733025302733025302700148009200048000c0bc004c094c94ccc0a0cdc3a4000604e00220022a660549212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163300800323375e66048604c0029000001180080091129998150010a50132325333027300300214a2266600a00a002006605c00660580046002002444a666050004297ae0132325333025300300213302b0023330050050010031333005005001003302c003302a0023001001222533302600213374a900125eb804c8c94ccc08cc00c0084cdd2a40006605200497ae01333005005001003302a0033028002300100122533302300114a226464a6660400042660080080022940c09c008cdc3a400460426ea8c09400488c8c8c8cdd2a40006604c6e9c00ccc098dd4800a5eb80ccc01400888cc88c02ccdc50010008008010009803244100330060020013001001222253330220031001132323333006006001004330040020033026004375c604800646e48004c0040048894ccc07800852f5c026464660426ea4c00c008ccc01401400400cc08800cc0800088888cccc01401000c008004c004004888894ccc074010400c4c8c8c8c8ccccc02402400cccccc02801c004008018014018014c07800cc078008c084014c07c010c0040048888894ccc0700144cc074cdd8002001a5eb7bdb1804c8c8c8c94ccc06ccdd79980280400099ba5480012f5c026604266ec002001c02454ccc06ccdd780400089919299980e99b87480000044c8c8cc094cdd80060008039812800980d8010802980d80099980300400380109981099bb000100233333300a00a003008007006005301d003301d0023020006301e0052223374a90001980c99ba548000cc064dd419b80375a6601e602200490001bad3300f301100148000cc064dd419b80375a6601e602200490011bad3300f301100148008cc064dd419b80375a6601e602200490021bad3300f3011001480112f5c097ae0223322533301333720004002266e9520004bd700a99980999b8f00200113374a900125eb804cdd2a400897ae037660046ecc004c034018dd61980498059980498058022400090021bac33008300a33008300a0034800120003012001300832533300b3370e9001180500088008a99806a4812a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633006300800148008526163001001222533300d00214984cc024c004c03c008ccc00c00cc040008004cc0040052000222233330073370e00200601c4666600a00a66e00011200230100010020022300737540024600a6ea80055cd2b9b5738aae7555cf2ab9f5740ae855d11f5f6";
        let inputs = "958258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c008258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c018258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c028258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c038258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c048258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c058258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c068258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c078258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c088258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c098258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0a8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0b8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0c8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0d8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0e8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c0f8258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c108258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c118258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c128258205a9f17b3af7757f89b99dd1b24bc1fe612a476ed4b29fb56bca3499ce2c7f13c138258206df7b1c45dfe4ed78bc4406ea601329b5dd3d4d83deab80a957b2dd3d3a154f91864";
        let outputs = "95a300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f58208e1c4232d4206dea0591772f1cc47548504d84cac258ee31176977abeca83fdb1a007ed75b1a094fbd981a002e6bde00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f582015a09b780e7a213d465f525e26d281fe771fb3dcd3c1a83ffd1554150438e29d1a007087741a1506cd001a004fa2d502ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820f1360c66060cda107bfba609d8832881c87d3a37071c67a8abd76fdb1760271a1a0032e4411a03c174dd1a0046fcb702ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820535868db5f813f9ad586fd48f5ce08d8fc129863038cfe67632316a9e86e70871a009142ec1a01302e331a0018099b02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f582098dcd4c69c6ae24d052533a7b63beac92e116423069cf00fa59dbf202ac208431a004747bd1a01302e331a000923a301ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f58209c2647cbe94711507730415a7cea56492cbcd2c58e0a76be4984eb316ec804cc1a005810921a1739aead1a0010697901ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820c7ddd08205063957e3cee3966e47dc4dc69201a14e57c422778f043558150c9e1a0054c4261a0eca615d1a0053eff001ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820d6e992841b6883b58834b1a15d0151c71fa27f24845c3e945b477843a0a6df441a00475f911a04d578671a0018ba3601ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f58200eb0a3010135b52dfa7c1be925b41ae78f98f730c694ee417bf22fc4381bb1e61a008e9ffc1a0eca615d1a002c7ac201ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f58208e1c4232d4206dea0591772f1cc47548504d84cac258ee31176977abeca83fdb1a007ed75b1a1506cd001a0035648200ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820c1a46520f70be4a210fe817e7f1e956ae90534dbc573bb068abad4007c4cc36b1a0091ced61a01302e331a005abde100ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f582046a348a93694561410fda071dd99d4bb13d2657782821d980a438769bc9e540c1a0094b10c1a010ab5111a0002b85200ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f58201f161aa9ec7b342c6c8b3f34361149274f2ecca885537185f3c9aa32c00b50f21a005bf2c21a0389bb441a0026214002ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820c7ddd08205063957e3cee3966e47dc4dc69201a14e57c422778f043558150c9e1a0054c4261a0389bb441a001c489901ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f58204534688ea53b66066a40da1b6737ede6698344b8bc01355590e1d98aaeba5d711a0072f3181a1739aead1a003a697d00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820231ba0316f01460fe2ee838823b96d012a5d1c1954860d61a96d02d9f48ab2ab1a0010acee1a1739aead1a0028d2d501ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820a8618ccc0179defe3e65fe958d860adcf96ca6b05d0cc854f1b7d10f617d64cb1a0086bcb11a0eca615d1a000ed4e500ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f582050f0a2cd34228e558acea6aa8a6a0d88a9eb1ce249cd5dda29758d782402f10e1a002b6a891a010ab5111a0037af8d02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820eb2e7f4200177c7970be21c00df5c36c3fc4ebc859c8cb7409eeacc835e268bf1a004fea911a03c174dd1a0013c2fc02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e0100028201d8185836d8799f5820506f89b7afa5b6b1b5fee97ef3d961b37dbf7ad783d40c1e3f73470541d5df5a1a0023c4e41a0eca615d1a00143c1b02ff82581d60f8a68cd18e59a6ace848155a0e967af64f4d00cf8acee8adc95a6b0d1b0000001748756d4b";
        let cost_mdls = "a10198af1a0003236119032c01011903e819023b00011903e8195e7104011903e818201a0001ca761928eb041959d818641959d818641959d818641959d818641959d818641959d81864186418641959d81864194c5118201a0002acfa182019b551041a000363151901ff00011a00015c3518201a000797751936f404021a0002ff941a0006ea7818dc0001011903e8196ff604021a0003bd081a00034ec5183e011a00102e0f19312a011a00032e801901a5011a0002da781903e819cf06011a00013a34182019a8f118201903e818201a00013aac0119e143041903e80a1a00030219189c011a00030219189c011a0003207c1901d9011a000330001901ff0119ccf3182019fd40182019ffd5182019581e18201940b318201a00012adf18201a0002ff941a0006ea7818dc0001011a00010f92192da7000119eabb18201a0002ff941a0006ea7818dc0001011a0002ff941a0006ea7818dc0001011a0011b22c1a0005fdde00021a000c504e197712041a001d6af61a0001425b041a00040c660004001a00014fab18201a0003236119032c010119a0de18201a00033d7618201979f41820197fb8182019a95d1820197df718201995aa18201a0223accc0a1a009063b91903fd0a1a02515e841980b30a";

        let slot_config = SlotConfig {
            zero_time: 1596059091000,
            zero_slot: 0,
            slot_length: 1000,
        };

        let initial_budget = InitialBudget {
            cpu: 10000000000,
            mem: 16000000,
        };

        let json = eval_phase_two_inner(
            tx_hex.to_string(),
            inputs.to_string(),
            outputs.to_string(),
            cost_mdls.to_string(),
            initial_budget,
            slot_config,
        );

        println!("{:?}", json);

        let ex_units_response: ExUnitsEvaluationResponse = serde_json::from_str(&json).unwrap();
        assert_eq!(Status::ERROR, ex_units_response.status);

        // let error_msg = ex_units_response.error.unwrap();

        // assert!(error_msg.contains("RedeemerError"));
        // assert!(error_msg.contains("Asserted on incorrect constructor variant."));

        // assert!(ex_units_response.redeemer_cbor.is_none());
    }

    // This transaction contains 100 inputs and smart contract on L1 normally runs ca 2 / 3 inputs before running out of mem / cpu budget.
    #[test]
    pub fn eval_phase_test_large_hydra_tx_fails_but_should_not() {
        let tx_hex = "84a6009865825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0400825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0401825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0402825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0403825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0404825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0405825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0406825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0407825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0408825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0409825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0410825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0411825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0412825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0413825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0414825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0415825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0416825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0417825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041818825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041819825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041820825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041821825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041822825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041823825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041824825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041825825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041826825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041827825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041828825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041829825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041830825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041831825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041832825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041833825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041834825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041835825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041836825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041837825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041838825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041839825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041840825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041841825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041842825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041843825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041844825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041845825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041846825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041847825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041848825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041849825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041850825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041851825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041852825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041853825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041854825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041855825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041856825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041857825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041858825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041859825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041860825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041861825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041862825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041863825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0418640182a300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a0091ab9a028201d8185907d8d8799fb84cd8799f1a053c899c1a00063deaffd8799f1a0043abf40000ffd8799f1a053c899c1a000927b6ffd8799f00001a00499d09ffd8799f1a053c899c1a001cd9f7ffd8799f00001a005e28deffd8799f1a053c899c1a00260537ffd8799f1a00df1e460000ffd8799f1a053c899c1a0030e9d4ffd8799f00001a00799cd2ffd8799f1a053c899c1a0033e8deffd8799f1a0069e11e0000ffd8799f1a053c899c1a003c9c9affd8799f001a00799cd21a003f5474ffd8799f1a053c899c1a003cc214ffd8799f1a0069e11e0000ffd8799f1a053c899c1a0058d933ffd8799f1a00056c520000ffd8799f1a079087c31a001d2f9fffd8799f1a00799cd20000ffd8799f1a079087c31a001e8ef5ffd8799f001a0043abf41a0043abf4ffd8799f1a079087c31a0034fc4effd8799f1a00056c52001a00056c52ffd8799f1a079087c31a003f270cffd8799f001a00499d091a00499d09ffd8799f1a079087c31a0041a8f0ffd8799f001a003f547400ffd8799f1a08484fb91a000c54baffd8799f001a0054ff1e1a00499d09ffd8799f1a08484fb91a00116093ffd8799f1a003a25970000ffd8799f1a08484fb91a001d8063ffd8799f1a009d7d520000ffd8799f1a08484fb91a001db558ffd8799f00001a003a2597ffd8799f1a08484fb91a00211278ffd8799f1a00799cd20000ffd8799f1a08484fb91a00306eb5ffd8799f1a0054ff1e0000ffd8799f1a08484fb91a0048eb81ffd8799f001a005e28de00ffd8799f1a08484fb91a00497655ffd8799f00001a00658174ffd8799f1a08484fb91a0051b255ffd8799f001a005e28de00ffd8799f1a08484fb91a0051eb8bffd8799f1a0043abf40000ffd8799f1a09229b651a0003ffd9ffd8799f001a00499d0900ffd8799f1a09229b651a000a010cffd8799f00001a0054ff1effd8799f1a09229b651a002acf7fffd8799f001a0069e11e00ffd8799f1a09229b651a004745faffd8799f00001a005e28deffd8799f1a09229b651a0052fb62ffd8799f1a005e28de001a0069e11effd8799f1a09229b651a0055b583ffd8799f1a006581740000ffd8799f1a0c6e2b991a000999f4ffd8799f00001a00658174ffd8799f1a0c6e2b991a000c316bffd8799f001a003f547400ffd8799f1a0c6e2b991a001441bbffd8799f001a00799cd200ffd8799f1a0c6e2b991a0040bf01ffd8799f1a0043abf41a00056c5200ffd8799f1a0c6e2b991a0053c9a1ffd8799f1a003f54740000ffd8799f1a0c6e2b991a0056e421ffd8799f1a00799cd20000ffd8799f1a0c6e2b991a005b6b26ffd8799f1a003a25971a003a25971a00658174ffd8799f1a0ce67c031a001c9d5bffd8799f1a003f54740000ffd8799f1a0ce67c031a0024287cffd8799f00001a00056c52ffd8799f1a0ce67c031a002a55d3ffd8799f1a005e28de0000ffd8799f1a0ce67c031a003330a8ffd8799f1a00658174001a00658174ffd8799f1a0ce67c031a003455b7ffd8799f00001a00499d09ffd8799f1a0ce67c031a0034bf3fffd8799f001a0043abf400ffd8799f1a0ce67c031a00412a85ffd8799f1a006aedc61a0069e11e00ffd8799f1a0ce67c031a00469bd2ffd8799f1a0043abf40000ffd8799f1a0ce67c031a004d1ddbffd8799f001a00799cd200ffd8799f1a0ce67c031a004ed300ffd8799f001a00056c521a0054ff1effd8799f1a0db9bd9c1a00070a81ffd8799f00001a00658174ffd8799f1a0db9bd9c1a0017c020ffd8799f1a005e28de0000ffd8799f1a0db9bd9c1a002571b4ffd8799f1a0043abf40000ffd8799f1a0db9bd9c1a0040055affd8799f1a00056c52001a00ce9bf0ffd8799f1a0db9bd9c1a0043690bffd8799f001a00056c5200ffd8799f1a0db9bd9c1a00493021ffd8799f1a003f54740000ffd8799f1a0db9bd9c1a004cc31cffd8799f001a0054ff1e00ffd8799f1a0db9bd9c1a0057365bffd8799f001a0054ff1e00ffd8799f1a103ab6431a0014fe4affd8799f001a0043abf400ffd8799f1a103ab6431a001ce2b8ffd8799f00001a003f5474ffd8799f1a103ab6431a003e9144ffd8799f00001a00c339dbffd8799f1a103ab6431a00576f3effd8799f001a0069e11e00ffd8799f1a123479a41a0007d9a2ffd8799f00001a0043abf4ffd8799f1a123479a41a0008825bffd8799f1a0069e11e1a0043abf400ffd8799f1a123479a41a001a3b2bffd8799f00001a00a406b5ffd8799f1a123479a41a0024766affd8799f001a0054ff1e00ffd8799f1a123479a41a003603f7ffd8799f1a0054ff1e0000ffd8799f1a123479a41a00397ab6ffd8799f001a00499d0900ffd8799f1a123479a41a00409af0ffd8799f1a006581740000ffd8799f1a123479a41a00539ec0ffd8799f00001a003a2597ffd8799f1a123479a41a00565851ffd8799f001a0069e11e1a005e28deffd8799f1a19e446711a0002df08ffd8799f00001a0069e11effd8799f1a19e446711a001aa8afffd8799f001a0069e11e00ffd8799f1a19e446711a001e4b9bffd8799f001a00e37df000ffd8799f1a19e446711a0020eeefffd8799f001a00799cd200ffd8799f1a19e446711a0020fc8cffd8799f1a0054ff1e0000ffd8799f1a19e446711a003e1ba9ffd8799f00001a00056c52ffd8799f1a19e446711a004b97d2ffd8799f1a003a25971a00056c521a0054ff1effd8799f1a19e446711a0052af41ffd8799f00001a005e28deff5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82581d60f8a68cd18e59a6ace848155a0e967af64f4d00cf8acee8adc95a6b0d1b0000001747dc050102000d81825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0418641082581d60f8a68cd18e59a6ace848155a0e967af64f4d00cf8acee8adc95a6b0d1b0000001741bfca3b111a000f4240a2059864840000d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840001d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840002d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840003d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840004d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840005d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840006d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840007d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840008d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840009d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084000ad8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084000bd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084000cd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084000dd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084000ed8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084000fd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840010d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840011d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840012d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840013d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840014d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840015d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840016d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff820000840017d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001818d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001819d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400181ad8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400181bd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400181cd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400181dd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400181ed8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400181fd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001820d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001821d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001822d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001823d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001824d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001825d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001826d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001827d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001828d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001829d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400182ad8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400182bd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400182cd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400182dd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400182ed8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400182fd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001830d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001831d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001832d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001833d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001834d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001835d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001836d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001837d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001838d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001839d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400183ad8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400183bd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400183cd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400183dd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400183ed8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400183fd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001840d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001841d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001842d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001843d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001844d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001845d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001846d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001847d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001848d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001849d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400184ad8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400184bd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400184cd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400184dd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400184ed8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400184fd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001850d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001851d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001852d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001853d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001854d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001855d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001856d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001857d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001858d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001859d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400185ad8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400185bd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400185cd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400185dd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400185ed8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200008400185fd8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001860d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001861d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001862d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff82000084001863d8799f5820622d4869a1044b575732e5ddd326b066cbf2783bd0f85f32ca40d07f09a30de3ff8200000681590fae590fab010000323232323232323232323232323232222533300a3232323232323232323232323232323232323232323232323232323232323253330293370e900000d89919191919191918099981b199818000a60103d87a80004c0103d87980003303633303033300c0240230254c0103d87a80004c0103d87980003303633303033008375866058605c66058605c04e90002400800498103d87a80004c0103d87980004bd7019b8f0050023374a90001981a1ba600233034375200297ae032375c6605460580029001198090011180b1bb30013232323232323232330010094bd6f7b6301800800911299981d0010800899191919191999812999804004002003199911199980625eb7bdb18000c008004cdd2a4000660806ea0008cc100dd4000a5eb80cdd2a4000660806ea0dd69981b181c001a4004660806ea0dd69981b181c001a4008660806ea0dd69981b181c001a400c97ae002b02a02b375a6606a606e00890031bad33034303600348010c8c8c8c8cdd2a400066082008660826ea000ccc104dd4001198209ba80014bd701919806000a40006601800a90001919805800a40006601600890011919805000a400066014006900219ba548000cc0f4dd41bad33033303500248010cc0f4dd41bad330333035002480192f5c0607c0066078004600200244444a66607400826607666ec000c0092f5bded8c0264646464a66607266ebccc01401c004cdd2a400097ae013303f3376000e00c0102a66607266ebc01c0044cc0fccdd800380300189981f99bb000100233333009009003007006005303b003303b002303e005303c004223253330323370e90010008801099190009bad303a0013030003303000222323253330323370e9001000899ba5480092f5c02646466e9520003303a3750646eb4cc0c4c0cc01d20020014bd701bad303a00130300023030001330034bd708101000081010100810102001180a1981b99981899b87375a6605a605e0069004000a60103d87a80004c0103d8798000330373330313370e004002980103d87a80004c0103d87980004bd701800800911299981a001099ba5480092f5c026464a6660626006004266e95200033037375000497ae013330050050010033038003375a606c0046600803e4a666058600e6605060540029001099191981799299981799b87480000044c8c8c8c8c8c8c8c8c8c94ccc0f8c104008526153303b4901334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a607e002607e0046eb4c0f4004c0f4008dd6981d800981d8011bad30390013039002375c606e002605a0042a6606292012b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302d0013374a90001981a000a5eb80c0d0004c0a8c94ccc0b4cdc3a4008605800220022a6605e9212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633028302a33028302a00148009200413374a900125eb80dd7181880098138108a99981499b874800806c4c8c8c8c8c8c8c048cc0d4ccc0bcccc02c08c08809130103d87a80004c0103d87980003303533302f3371e00a004980103d87a80004c0103d87980003303533302f33007375866056605a66056605a04c90002400800298103d87a80004c0103d87980004bd7019ba548000cc0d0dd30011981a1ba90014bd70191bae3302a302c00148008cc0480088c058dd98009919191919199801000911991199981000100081281300080125eb7bdb180cc00c0148dd5998169817800a400060020024444a66606e006200226464666600c00c0020086600800400660760086eacc0e400cc0040048894ccc0d000852f5c0264646606e6e98c00c008ccc01401400400cc0e000cc0d8008cc01007c94ccc0b0c01ccc0a0c0a80052002132323302f32533302f3370e9000000899191919299981c181d80109981a19816801919191981b99299981b99b87480000044c8c8c8c94ccc100c10c008526153303d491334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608200260820046eb4c0fc004c0d400c54cc0e52412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163035002330373253330373370e90000008991919191919299982118228010a4c2a6607e921334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608600260860046eb4c104004c104008dd6981f800981a8010a9981ca4812b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163035001498c0e4008c0dc005261533035491334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375c607200260720046eacc0dc004c0b400854cc0c52412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302d0013374a90001981a000a5eb80c0d0004c0a8c94ccc0b4cdc3a4008605800220022a6605e9212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633028302a33028302a00148009200413374a900125eb80dd7181880098138108a5022323300800123375e002006660060044a666056600c002264646605c64a66605c66e1d20000011323232325333037303a0021330333302c00323232330363253330363370e9000000899191919299981f98210010a4c2a66078921334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608000260800046eb4c0f8004c0d000c54cc0e12412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163034002330363253330363370e90000008991919191919299982098220010a4c2a6607c921334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375a608400260840046eb4c100004c100008dd6981f000981a0010a9981c24812b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e7400163034001498c0e0008c0d8005261533034491334c6973742f5475706c652f436f6e73747220636f6e7461696e73206d6f7265206974656d73207468616e2065787065637465640016375c607000260700046eacc0d8004c0b000854cc0c12412b436f6e73747220696e64657820646964206e6f74206d6174636820616e7920747970652076617269616e740016302c0013374a900019819800a5eb80c0cc004c0a4c94ccc0b0cdc3a4008605600220022a6605c9212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e0016330273029001480104cdd2a400497ae03001001222533302e00214bd70099191919299981699b87480080044ccc01c01c00c0144c8c8cc0d4004ccc02402401401cc0d4004c0ac008c0ac004c00c008c0c800cc0c00088c8c94ccc0a0cdc3a4008002264944c0980085281813000998111812000a400844464646600c0024646466e3c004014dd71819000981419299981599b8748008c0a8004400454cc0b52412a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163302630283302630280014800120003300700323232533302b3370e9001000899251302900214a060520026604a604e6604a604e002900024000646464640026eb8c0c4004c09cc94ccc0a8cdc3a4004605200220022a6605892012a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633025302733025302733025302700148009200048000c0bc004c094c94ccc0a0cdc3a4000604e00220022a660549212a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e00163300800323375e66048604c0029000001180080091129998150010a50132325333027300300214a2266600a00a002006605c00660580046002002444a666050004297ae0132325333025300300213302b0023330050050010031333005005001003302c003302a0023001001222533302600213374a900125eb804c8c94ccc08cc00c0084cdd2a40006605200497ae01333005005001003302a0033028002300100122533302300114a226464a6660400042660080080022940c09c008cdc3a400460426ea8c09400488c8c8c8cdd2a40006604c6e9c00ccc098dd4800a5eb80ccc01400888cc88c02ccdc50010008008010009803244100330060020013001001222253330220031001132323333006006001004330040020033026004375c604800646e48004c0040048894ccc07800852f5c026464660426ea4c00c008ccc01401400400cc08800cc0800088888cccc01401000c008004c004004888894ccc074010400c4c8c8c8c8ccccc02402400cccccc02801c004008018014018014c07800cc078008c084014c07c010c0040048888894ccc0700144cc074cdd8002001a5eb7bdb1804c8c8c8c94ccc06ccdd79980280400099ba5480012f5c026604266ec002001c02454ccc06ccdd780400089919299980e99b87480000044c8c8cc094cdd80060008039812800980d8010802980d80099980300400380109981099bb000100233333300a00a003008007006005301d003301d0023020006301e0052223374a90001980c99ba548000cc064dd419b80375a6601e602200490001bad3300f301100148000cc064dd419b80375a6601e602200490011bad3300f301100148008cc064dd419b80375a6601e602200490021bad3300f3011001480112f5c097ae0223322533301333720004002266e9520004bd700a99980999b8f00200113374a900125eb804cdd2a400897ae037660046ecc004c034018dd61980498059980498058022400090021bac33008300a33008300a0034800120003012001300832533300b3370e9001180500088008a99806a4812a4578706563746564206f6e20696e636f727265637420636f6e7374727563746f722076617269616e742e001633006300800148008526163001001222533300d00214984cc024c004c03c008ccc00c00cc040008004cc0040052000222233330073370e00200601c4666600a00a66e00011200230100010020022300737540024600a6ea80055cd2b9b5738aae7555cf2ab9f5740ae855d11f5f6";
        let inputs = "9865825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0400825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0401825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0402825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0403825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0404825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0405825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0406825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0407825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0408825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0409825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d040f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0410825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0411825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0412825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0413825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0414825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0415825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0416825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d0417825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041818825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041819825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04181f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041820825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041821825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041822825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041823825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041824825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041825825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041826825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041827825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041828825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041829825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04182f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041830825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041831825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041832825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041833825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041834825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041835825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041836825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041837825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041838825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041839825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04183f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041840825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041841825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041842825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041843825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041844825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041845825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041846825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041847825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041848825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041849825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04184f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041850825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041851825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041852825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041853825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041854825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041855825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041856825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041857825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041858825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041859825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185a825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185b825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185c825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185d825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185e825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d04185f825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041860825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041861825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041862825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041863825820e4e0b25fcac68a70740149ef6128a145c4bbea71040595553261a4b91c2b6d041864";
        let outputs = "9865a300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582087d1a9aa0a8f2172331339e6e60842124183de50c771c357889728bc6d0700641a003a25971a123479a41a001a3b2b00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a08484fb91a001d806302ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582087d1a9aa0a8f2172331339e6e60842124183de50c771c357889728bc6d0700641a003a25971a0c6e2b991a005b6b2602ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a053c899c1a003c9c9a00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a09229b651a0052fb6202ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a079087c31a0034fc4e02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a123479a41a0024766a01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a103ab6431a003e914400ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a09229b651a0052fb6200ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582087d1a9aa0a8f2172331339e6e60842124183de50c771c357889728bc6d0700641a003a25971a0c6e2b991a005b6b2601ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a19e446711a0052af4100ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a0ce67c031a004ed30001ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a19e446711a0002df0800ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a0db9bd9c1a0043690b01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a0c6e2b991a000c316b01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a053c899c1a0058d93302ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a0db9bd9c1a00070a8100ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a0db9bd9c1a0057365b01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a0db9bd9c1a0040055a00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a079087c31a003f270c00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a09229b651a004745fa00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a079087c31a0034fc4e00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a08484fb91a0051b25501ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a19e446711a001e4b9b01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a0c6e2b991a005b6b2600ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a123479a41a0007d9a200ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582087d1a9aa0a8f2172331339e6e60842124183de50c771c357889728bc6d0700641a003a25971a08484fb91a0011609302ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a08484fb91a00306eb502ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a19e446711a001aa8af01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a0ce67c031a00412a8502ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a0c6e2b991a0040bf0102ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a123479a41a003603f702ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a103ab6431a0014fe4a01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a0ce67c031a004ed30000ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a053c899c1a003cc21402ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a0c6e2b991a0053c9a102ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a09229b651a000a010c00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582087d1a9aa0a8f2172331339e6e60842124183de50c771c357889728bc6d0700641a003a25971a08484fb91a001db55800ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a079087c31a001e8ef500ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a053c899c1a0026053702ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a08484fb91a0049765500ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a0ce67c031a003330a800ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a19e446711a0020fc8c02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a0c6e2b991a0056e42102ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a08484fb91a000c54ba01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a123479a41a0008825b02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a103ab6431a003e914400ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a19e446711a0020eeef01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a0c6e2b991a0040bf0101ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a0c6e2b991a001441bb01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a0ce67c031a0034bf3f01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a053c899c1a0026053702ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a0db9bd9c1a004cc31c01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582087d1a9aa0a8f2172331339e6e60842124183de50c771c357889728bc6d0700641a003a25971a123479a41a00539ec000ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a19e446711a001e4b9b01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a103ab6431a00576f3e01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a053c899c1a00063dea02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582087d1a9aa0a8f2172331339e6e60842124183de50c771c357889728bc6d0700641a003a25971a19e446711a004b97d202ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a0db9bd9c1a002571b402ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a123479a41a00409af002ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a0c6e2b991a000999f400ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a0ce67c031a001c9d5b02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a053c899c1a003c9c9a01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a053c899c1a001cd9f700ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a19e446711a004b97d201ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a08484fb91a0021127802ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a123479a41a0008825b01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a123479a41a0056585101ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a079087c31a001e8ef501ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a0db9bd9c1a0040055a02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820c57313a669453e05701451f0d37f48f2405db0a4d776d6b0984966b695846c831a0054ff1e1a19e446711a004b97d200ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a0ce67c031a002a55d302ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a0ce67c031a0024287c00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a123479a41a001a3b2b00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a08484fb91a0048eb8101ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a053c899c1a000927b600ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a103ab6431a001ce2b800ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a0ce67c031a003455b700ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a0ce67c031a00469bd202ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a08484fb91a000c54ba00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a09229b651a0003ffd901ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a0ce67c031a00412a8501ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a123479a41a0056585100ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582048174076e4cedf092aa710b543641f49a24d51b11392e584e833bddd0f36a6ab1a0043abf41a08484fb91a0051eb8b02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a053c899c1a0033e8de02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a0db9bd9c1a0040055a00ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a0ce67c031a003330a802ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a0ce67c031a00412a8502ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a079087c31a003f270c01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a053c899c1a0030e9d400ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582027bb82a2a039befd4906382372733522f1352a5f75e382bdcac916fd10b960fa1a00499d091a123479a41a00397ab601ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58206db6cab6bc7f48839077da129a9d8aa43bc904a67feaefbcfc8a9cc05da2cc451a005e28de1a0db9bd9c1a0017c02002ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a079087c31a001d2f9f02ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a079087c31a0041a8f001ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58207458782137277c3caf16de8cc6b4ea587e026465f75b1a8ef5b16f03c7a1d7a01a006581741a09229b651a0055b58302ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f582062f3729c0da5f30af2658fabd32e520177aabb8f5cb7a823ed2c0a2396b60aa61a00056c521a19e446711a003e1ba900ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a08484fb91a001d806302ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820a82d09aa0e3ebd5751565f915081361c928e0002d3ddf13b1c4e5bbe081692271a0069e11e1a09229b651a002acf7f01ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f58204a01cb25e60fb94705452741d180fc2a3e4f8312369ad54c3d72130f5857a3dc1a003f54741a0db9bd9c1a0049302102ffa300581d70080a80487a282e59597f49c1cafa2ab0bce31dfe523e599694dfb94e011a00111958028201d8185836d8799f5820f8d3c74acbd017b07ae70c5537981b3cf247ebc59ede2e23f7711620ae55bd6d1a00799cd21a0ce67c031a004d1ddb01ff82581d60f8a68cd18e59a6ace848155a0e967af64f4d00cf8acee8adc95a6b0d1b0000001741bfca3b";
        let cost_mdls = "a10198af1a0003236119032c01011903e819023b00011903e8195e7104011903e818201a0001ca761928eb041959d818641959d818641959d818641959d818641959d818641959d81864186418641959d81864194c5118201a0002acfa182019b551041a000363151901ff00011a00015c3518201a000797751936f404021a0002ff941a0006ea7818dc0001011903e8196ff604021a0003bd081a00034ec5183e011a00102e0f19312a011a00032e801901a5011a0002da781903e819cf06011a00013a34182019a8f118201903e818201a00013aac0119e143041903e80a1a00030219189c011a00030219189c011a0003207c1901d9011a000330001901ff0119ccf3182019fd40182019ffd5182019581e18201940b318201a00012adf18201a0002ff941a0006ea7818dc0001011a00010f92192da7000119eabb18201a0002ff941a0006ea7818dc0001011a0002ff941a0006ea7818dc0001011a0011b22c1a0005fdde00021a000c504e197712041a001d6af61a0001425b041a00040c660004001a00014fab18201a0003236119032c010119a0de18201a00033d7618201979f41820197fb8182019a95d1820197df718201995aa18201a0223accc0a1a009063b91903fd0a1a02515e841980b30a";

        let slot_config = SlotConfig {
            zero_time: 1596059091000,
            zero_slot: 0,
            slot_length: 1000,
        };

        let initial_budget = InitialBudget {
            cpu: 9223372036854775806,
            mem: 9223372036854775806,
        };

        let json = eval_phase_two_inner(
            tx_hex.to_string(),
            inputs.to_string(),
            outputs.to_string(),
            cost_mdls.to_string(),
            initial_budget,
            slot_config,
        );

        println!("{:?}", json);

        // let ex_units_response: ExUnitsEvaluationResponse = serde_json::from_str(&json).unwrap();
        // assert_eq!(Status::ERROR, ex_units_response.status);

        // let error_msg = ex_units_response.error.unwrap();

        // assert!(error_msg.contains("RedeemerError"));
        // assert!(error_msg.contains("Asserted on incorrect constructor variant."));

        // assert!(ex_units_response.redeemer_cbor.is_none());
    }

}

